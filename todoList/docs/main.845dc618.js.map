{"version":3,"sources":["localStorage.js","utils.js","gestionItems.js","event.js","main.js"],"names":["getItemLocalStorage","id","items","getItemsLocalStorage","find","it","JSON","parse","localStorage","getItem","removeItemLocalStorage","value","newItems","filter","i","title","setItem","stringify","recordItemLocalStorage","length","some","push","check","comm","toggleCheckLocalStorage","superToggle","el","classes","forEach","cl","classList","toggle","templateLi","document","querySelector","classNameButton","listItems","getElementById","initTodoListItems","ls","setEventButton","createNewItem","cloneli","cloneNode","textContent","insertAdjacentElement","href","item","trim","addEventListener","e","target","parentElement","remove","formTodo","gestionInputComm","onsubmit","inputComm","preventDefault","console","log","gestionInputTodo","inputTodo","newItem","index","toggleDisplayTodoItem","params","page","redirect","h2","cible","listTodo","showItem","imgShow","add"],"mappings":"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","file":"main.845dc618.js","sourceRoot":"../src","sourcesContent":["\n\nexport function getItemLocalStorage(id){\n    const items = getItemsLocalStorage();\n    return items.find(it => it.id == id);\n}\n\nexport function getItemsLocalStorage(){\n    return JSON.parse(localStorage.getItem(\"items\"))\n}\n\nexport function removeItemLocalStorage(value){\n    let items = JSON.parse(localStorage.getItem(\"items\"));\n\n    let newItems = items.filter(i => i.title !== value);\n    localStorage.setItem(\"items\", JSON.stringify(newItems));\n}\n\nexport function recordItemLocalStorage(value) {\n    const items = JSON.parse(localStorage.getItem(\"items\")) ?? [];\n    const id = (items.length) ? items[items.length - 1].id + 1 : 1; \n\n    if (items.some(i => i.title === value)) return false\n    items.push({id: id, title: value, check: false, comm: {}})\n\n    localStorage.setItem(\"items\", JSON.stringify(items));\n    return id;\n}\n\nexport function toggleCheckLocalStorage(value){\n    let items = JSON.parse(localStorage.getItem(\"items\"));\n    let it = items.find(it => it.title === value);\n\n    it.check = !(it.check);\n    localStorage.setItem(\"items\", JSON.stringify(items));\n}\n\n","\n\nexport const superToggle = (el, classes) => {\n    classes.forEach(cl => el.classList.toggle(cl));\n}\n","import * as ls from './localStorage.js'\nimport {superToggle} from './utils.js'\n\nconst templateLi = document.querySelector(\".d-none li\");\nconst classNameButton = [\"far\", \"fa-circle\", \"fas\", \"fa-check-circle\"];\nconst listItems = document.getElementById(\"list-items\");\n\nexport function initTodoListItems(){\n    const items = ls.getItemsLocalStorage() ?? [];\n    \n    items.forEach(it => {\n        const li = createNewItem(it.title, it.id, it.check);\n        setEventButton(li);\n    });\n}\n\nexport function createNewItem(value, id, check) {\n    const cloneli = templateLi.cloneNode(true);\n\n    cloneli.querySelector(\"a\").textContent = value;\n    if (check) {\n        superToggle(cloneli.querySelector(\"i\"), classNameButton);\n        cloneli.querySelector(\"span\").classList.toggle(\"item-check\");\n    }\n    listItems.insertAdjacentElement('afterbegin', cloneli);\n    cloneli.querySelector(\"a\").href += id;\n    return cloneli;\n}\n\nexport function setEventButton(item){\n    const value = item.querySelector(\"a\").textContent.trim();\n\n    item.querySelector(\".button-check\")\n        .addEventListener(\"click\", (e) => {\n            superToggle(e.target, classNameButton);\n            item.querySelector(\"span\").classList.toggle(\"item-check\");\n            ls.toggleCheckLocalStorage(value);\n    })\n    item.querySelector(\".button-delete\")\n        .addEventListener(\"click\", function(e) {\n            const li = this.parentElement;\n            li.remove();\n            ls.removeItemLocalStorage(value);\n        })\n}","import {recordItemLocalStorage} from './localStorage.js'\nimport {createNewItem, setEventButton} from './gestionItems.js'\n\n\n// submit form - add new todo\nconst formTodo = document.querySelector(\".js-form\");\n\nexport function gestionInputComm(id){\n    formTodo.onsubmit =  (e) => {\n        const inputComm = document.querySelector(\".js-todo-input\")\n\n        e.preventDefault();\n        if (inputComm.value.trim()) {\n           console.log('input :>> ', inputComm.value);\n\n        }\n        inputComm.value = \"\";\n    }\n}\n\n\nexport function gestionInputTodo(){\n        formTodo.onsubmit =  (e) => {\n        const inputTodo = document.querySelector(\".js-todo-input\")\n\n        e.preventDefault();\n        if (inputTodo.value.trim()) {\n            const id = recordItemLocalStorage(inputTodo.value.trim())\n            if (id){\n                let newItem = createNewItem(inputTodo.value.trim(), id, false);\n                setEventButton(newItem);\n            }\n        }\n        inputTodo.value = \"\";\n    }\n}\n\n","import {getItemLocalStorage} from './localStorage.js'\nimport {initTodoListItems} from './gestionItems.js'\nimport {gestionInputTodo, gestionInputComm} from './event.js'\n\n\n// gestion page.js\n\npage('/', index);\npage('/item/:id', item);\npage();\n\ninitTodoListItems();\n\nfunction index(e) {\n    \n    toggleDisplayTodoItem(\"todo\");\n    const desc = document.querySelector(\".description\");\n    desc.textContent = \"What do you want to get done today?\";\n    gestionInputTodo();\n}\n\nfunction item(e) {\n    console.log('e :>> ', e);\n    const id = e.params.id || 0;\n    \n    toggleDisplayTodoItem(\"item\");\n    const desc = document.querySelector(\".description\");\n    desc.textContent = \"What comment would you like to add?\";\n    const item = getItemLocalStorage(id);\n    if (!item) {\n        console.log(\"pas d'item\");\n        page.redirect('/');\n        return;\n    }\n    \n    const h2 = document.querySelector(\".title-todo\");\n    console.log('h2 :>> ', h2);\n    h2.textContent = item.title;\n    gestionInputComm(id);\n    \n}\n\n\n\nfunction toggleDisplayTodoItem(cible){\n    const listTodo = document.querySelector(\"#list-items\");\n    const showItem = document.getElementById(\"show-item\");\n    const imgShow = document.querySelector(\".img\");\n    \n    console.log('imgShow :>> ', imgShow);\n\n    if (cible === \"todo\"){\n        listTodo.classList.remove(\"d-none\");\n        showItem.classList.add(\"d-none\");\n        imgShow.classList.remove(\"d-none\");\n    }\n    else{\n        listTodo.classList.add(\"d-none\");\n        showItem.classList.remove(\"d-none\");\n        imgShow.classList.add(\"d-none\");\n    }\n}"]}