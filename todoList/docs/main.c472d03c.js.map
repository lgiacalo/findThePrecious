{"version":3,"sources":["main.js"],"names":["superToggle","el","classes","forEach","cl","classList","toggle","getItemLocalStorage","id","items","getItemsLocalStorage","find","it","JSON","parse","localStorage","getItem","removeItemLocalStorage","value","newItems","filter","i","title","setItem","stringify","recordItemLocalStorage","length","some","push","check","comm","toggleCheckLocalStorage","templateLi","document","querySelector","classNameButton","listItems","getElementById","initTodoListItems","setEventButton","createNewItem","cloneli","cloneNode","textContent","insertAdjacentElement","href","item","trim","addEventListener","e","target","parentElement","remove","formTodo","gestionInputComm","onsubmit","inputComm","preventDefault","console","log","gestionInputTodo","inputTodo","index","toggleDisplayTodoItem","params","page","redirect","h2","cible","listTodo","showItem","imgShow","add","configure","hashbang","base"],"mappings":"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","file":"main.c472d03c.js","sourceRoot":"..","sourcesContent":["\n const superToggle = (el, classes) => {\n    classes.forEach(cl => el.classList.toggle(cl));\n}\n\n\n\n function getItemLocalStorage(id){\n    const items = getItemsLocalStorage();\n    return items.find(it => it.id == id);\n}\n\n function getItemsLocalStorage(){\n    return JSON.parse(localStorage.getItem(\"items\"))\n}\n\n function removeItemLocalStorage(value){\n    let items = JSON.parse(localStorage.getItem(\"items\"));\n\n    let newItems = items.filter(i => i.title !== value);\n    localStorage.setItem(\"items\", JSON.stringify(newItems));\n}\n\n function recordItemLocalStorage(value) {\n    const items = JSON.parse(localStorage.getItem(\"items\")) ?? [];\n    const id = (items.length) ? items[items.length - 1].id + 1 : 1; \n\n    if (items.some(i => i.title === value)) return false\n    items.push({id: id, title: value, check: false, comm: {}})\n\n    localStorage.setItem(\"items\", JSON.stringify(items));\n    return id;\n}\n\n function toggleCheckLocalStorage(value){\n    let items = JSON.parse(localStorage.getItem(\"items\"));\n    let it = items.find(it => it.title === value);\n\n    it.check = !(it.check);\n    localStorage.setItem(\"items\", JSON.stringify(items));\n}\n\n\n\nconst templateLi = document.querySelector(\".d-none li\");\nconst classNameButton = [\"far\", \"fa-circle\", \"fas\", \"fa-check-circle\"];\nconst listItems = document.getElementById(\"list-items\");\n\n function initTodoListItems(){\n    const items = getItemsLocalStorage() ?? [];\n    \n    items.forEach(it => {\n        const li = createNewItem(it.title, it.id, it.check);\n        setEventButton(li);\n    });\n}\n\n function createNewItem(value, id, check) {\n    const cloneli = templateLi.cloneNode(true);\n\n    cloneli.querySelector(\"a\").textContent = value;\n    if (check) {\n        superToggle(cloneli.querySelector(\"i\"), classNameButton);\n        cloneli.querySelector(\"span\").classList.toggle(\"item-check\");\n    }\n    listItems.insertAdjacentElement('afterbegin', cloneli);\n    cloneli.querySelector(\"a\").href += id;\n    return cloneli;\n}\n\n function setEventButton(item){\n    const value = item.querySelector(\"a\").textContent.trim();\n\n    item.querySelector(\".button-check\")\n        .addEventListener(\"click\", (e) => {\n            superToggle(e.target, classNameButton);\n            item.querySelector(\"span\").classList.toggle(\"item-check\");\n            toggleCheckLocalStorage(value);\n    })\n    item.querySelector(\".button-delete\")\n        .addEventListener(\"click\", function(e) {\n            const li = this.parentElement;\n            li.remove();\n            removeItemLocalStorage(value);\n        })\n}\n\n// submit form - add new todo\nconst formTodo = document.querySelector(\".js-form\");\n\n function gestionInputComm(id){\n    formTodo.onsubmit =  (e) => {\n        const inputComm = document.querySelector(\".js-todo-input\")\n\n        e.preventDefault();\n        if (inputComm.value.trim()) {\n           console.log('input :>> ', inputComm.value);\n\n        }\n        inputComm.value = \"\";\n    }\n}\n\n\n function gestionInputTodo(){\n        formTodo.onsubmit =  (e) => {\n        const inputTodo = document.querySelector(\".js-todo-input\")\n\n        e.preventDefault();\n        if (inputTodo.value.trim()) {\n            const id = recordItemLocalStorage(inputTodo.value.trim())\n            if (id){\n                let newItem = createNewItem(inputTodo.value.trim(), id, false);\n                setEventButton(newItem);\n            }\n        }\n        inputTodo.value = \"\";\n    }\n}\n\n// test gestion page.js\n\n\n// page('/findThePrecious/todoList/', index);\n// page('/findThePrecious/todoList/item/:id', item);\n// page();\n\n\n// todo: A decommenter pour tester page\npage.configure({ hashbang: true });\n\npage.base('/findThePrecious/todoList/docs')\npage('/', index);\npage('/item/:id', item);\npage();\n\n\ninitTodoListItems();\nindex();\n\n// todo: decommenter la fonction\nfunction index() {\n    // e.preventDefault();\n    toggleDisplayTodoItem(\"todo\");\n    const desc = document.querySelector(\".description\");\n    desc.textContent = \"What do you want to get done today?\";\n    gestionInputTodo();\n}\n\nfunction item(e) {\n    // e.preventDefault();\n\n    console.log('e :>> ', e);\n    const id = e.params.id || 0;\n    \n    toggleDisplayTodoItem(\"item\");\n    const desc = document.querySelector(\".description\");\n    desc.textContent = \"What comment would you like to add?\";\n    const item = getItemLocalStorage(id);\n    if (!item) {\n        console.log(\"pas d'item\");\n        page.redirect('/');\n        return;\n    }\n    \n    const h2 = document.querySelector(\".title-todo\");\n    console.log('h2 :>> ', h2);\n    h2.textContent = item.title;\n    gestionInputComm(id);\n    \n}\n\n\n\nfunction toggleDisplayTodoItem(cible){\n    const listTodo = document.querySelector(\"#list-items\");\n    const showItem = document.getElementById(\"show-item\");\n    const imgShow = document.querySelector(\".img\");\n    \n    console.log('imgShow :>> ', imgShow);\n\n    if (cible === \"todo\"){\n        listTodo.classList.remove(\"d-none\");\n        showItem.classList.add(\"d-none\");\n        imgShow.classList.remove(\"d-none\");\n    }\n    else{\n        listTodo.classList.add(\"d-none\");\n        showItem.classList.remove(\"d-none\");\n        imgShow.classList.add(\"d-none\");\n    }\n}\n"]}